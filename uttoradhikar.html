<!DOCTYPE html><html lang="bn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡¶â‡¶§‡ßç‡¶§‡¶∞‡¶æ‡¶ß‡¶ø‡¶ï‡¶æ‡¶∞ ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body class="bg-gradient-to-br from-green-50 to-green-100 min-h-screen text-gray-800 flex flex-col">  <!-- Header -->  <header class="bg-gradient-to-r from-green-700 to-emerald-500 shadow-lg py-6 mb-4">
    <div class="max-w-4xl mx-auto text-center">
      <h1 class="text-3xl md:text-4xl font-bold text-white tracking-wide">üìú ‡¶â‡¶§‡ßç‡¶§‡¶∞‡¶æ‡¶ß‡¶ø‡¶ï‡¶æ‡¶∞ ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨</h1>
      <p class="text-green-100 text-sm md:text-base mt-2">‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡ßÄ ‡¶∂‡¶∞‡ßÄ‡ßü‡¶æ‡¶π ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ ‡¶ú‡¶Æ‡¶ø‡¶∞ ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨ ‡¶∏‡¶π‡¶ú‡ßá ‡¶®‡¶ø‡¶∞‡ßç‡¶£‡ßü ‡¶ï‡¶∞‡ßÅ‡¶®</p>
    </div>
  </header>  <!-- Main -->  <main class="flex-grow">
    <div class="max-w-md mx-auto bg-white rounded-xl shadow-lg px-6 pt-4 pb-6">
      <h2 class="text-lg font-semibold text-purple-700 border-b pb-2 mb-4">‡¶Ü‡¶§‡ßç‡¶Æ‡ßÄ‡¶Ø‡¶º-‡¶∏‡ßç‡¶¨‡¶ú‡¶®‡ßá‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ</h2>
      <div class="grid grid-cols-1 gap-3 max-h-[500px] overflow-y-auto pr-2">
        <div class="flex justify-between items-center">
          <label>‡¶∏‡ßç‡¶¨‡¶æ‡¶Æ‡ßÄ</label>
          <div class="flex items-center space-x-2">
            <button onclick="adjust('husband', -1, 1)" class="bg-green-200 px-2 rounded">-</button>
            <input id="husband" type="number" value="0" class="w-12 text-center border rounded" readonly>
            <button onclick="adjust('husband', 1, 1)" class="bg-green-200 px-2 rounded">+</button>
          </div>
        </div>
        <div class="flex justify-between items-center">
          <label>‡¶∏‡ßç‡¶§‡ßç‡¶∞‡ßÄ</label>
          <div class="flex items-center space-x-2">
            <button onclick="adjust('wives', -1, 4)" class="bg-green-200 px-2 rounded">-</button>
            <input id="wives" type="number" value="0" class="w-12 text-center border rounded" readonly>
            <button onclick="adjust('wives', 1, 4)" class="bg-green-200 px-2 rounded">+</button>
          </div>
        </div>
        <div class="flex justify-between items-center">
          <label>‡¶™‡ßÅ‡¶§‡ßç‡¶∞</label>
          <div class="flex items-center space-x-2">
            <button onclick="adjust('sons', -1)" class="bg-green-200 px-2 rounded">-</button>
            <input id="sons" type="number" value="0" class="w-12 text-center border rounded">
            <button onclick="adjust('sons', 1)" class="bg-green-200 px-2 rounded">+</button>
          </div>
        </div>
        <div class="flex justify-between items-center">
          <label>‡¶ï‡¶®‡ßç‡¶Ø‡¶æ</label>
          <div class="flex items-center space-x-2">
            <button onclick="adjust('daughters', -1)" class="bg-green-200 px-2 rounded">-</button>
            <input id="daughters" type="number" value="0" class="w-12 text-center border rounded">
            <button onclick="adjust('daughters', 1)" class="bg-green-200 px-2 rounded">+</button>
          </div>
        </div>
      </div><h2 class="text-lg font-semibold text-purple-700 border-b pb-2 mt-6 mb-4">‡¶∏‡¶Æ‡ßç‡¶™‡¶¶‡ßá‡¶∞ ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£</h2>
  <div class="flex justify-between items-center mb-6">
    <label>‡¶ú‡¶Æ‡¶ø (‡¶∂‡¶§‡¶æ‡¶Ç‡¶∂)</label>
    <input id="land" type="number" value="0" class="w-24 text-center border rounded">
  </div>

  <button onclick="calculateInheritance()" class="w-full bg-purple-600 text-white py-2 rounded hover:bg-purple-700">‡¶´‡¶≤‡¶æ‡¶´‡¶≤</button>
  <button id="downloadBtn" onclick="downloadPDF()" class="w-full bg-indigo-600 text-white py-2 rounded hover:bg-indigo-700 mt-3 hidden">PDF ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®</button>
  <button onclick="resetForm()" class="w-full bg-red-500 text-white py-2 rounded hover:bg-red-600 mt-3">‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button>

  <div id="resultSection" class="mt-4">
    <div id="inheritanceResult" class="p-3 bg-purple-50 rounded text-sm text-purple-800 border border-purple-200"></div>
    <canvas id="chartCanvas" class="mt-6"></canvas>
  </div>
</div>

  </main>  <!-- Footer -->  <footer class="bg-gray-900 text-white text-sm text-center py-6 mt-6">
    <p>¬© <span id="year"></span> ‡¶â‡¶§‡ßç‡¶§‡¶∞‡¶æ‡¶ß‡¶ø‡¶ï‡¶æ‡¶∞ ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨. ‡¶∏‡¶∞‡ßç‡¶¨‡¶∏‡ßç‡¶¨‡¶§‡ßç‡¶¨ ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§‡•§</p>
    <p class="text-xs text-gray-400 mt-1">Design & Build with ‚ù§Ô∏è in Bangladesh</p>
  </footer><script>
function adjust(id, change, max = null) {
  const input = document.getElementById(id);
  let value = parseInt(input.value) + change;
  if (max !== null) value = Math.min(max, value);
  input.value = Math.max(0, value);
}

function resetForm() {
  const ids = ['husband','wives','sons','daughters','land'];
  ids.forEach(id => document.getElementById(id).value = 0);
  document.getElementById('inheritanceResult').innerHTML = '';
  document.getElementById('downloadBtn').classList.add('hidden');
  if (window.pieChart) window.pieChart.destroy();
}

document.getElementById("year").textContent = new Date().getFullYear();

let pieChart;
function calculateInheritance() {
  const land = parseFloat(document.getElementById('land').value);
  const husbands = parseInt(document.getElementById('husband').value);
  const wives = parseInt(document.getElementById('wives').value);
  const sons = parseInt(document.getElementById('sons').value);
  const daughters = parseInt(document.getElementById('daughters').value);

  if ((sons + daughters + husbands + wives) === 0 || isNaN(land) || land <= 0) {
    document.getElementById('inheritanceResult').innerHTML = "<p class='text-red-600'>‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡¶è‡¶ï‡¶ú‡¶® ‡¶Ü‡¶§‡ßç‡¶Æ‡ßÄ‡¶Ø‡¶º ‡¶è‡¶¨‡¶Ç ‡¶ú‡¶Æ‡¶ø‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£ ‡¶¶‡¶ø‡¶®‡•§</p>";
    return;
  }

  let labels = [];
  let shares = [];
  let html = '<table class="w-full text-left border mb-4"><thead><tr class="bg-green-200"><th class="p-1">‡¶Ü‡¶§‡ßç‡¶Æ‡ßÄ‡¶Ø‡¶º</th><th class="p-1">‡¶Ö‡¶Ç‡¶∂</th><th class="p-1">‡¶ú‡¶Æ‡¶ø</th></tr></thead><tbody>';

  let fixedShare = 0;
  if (husbands > 0) fixedShare += 0.25;
  if (wives > 0) fixedShare += 0.125;
  const remaining = 1 - fixedShare;

  if (husbands > 0) {
    const val = (0.25 * land).toFixed(2);
    html += `<tr><td class="p-1">‡¶∏‡ßç‡¶¨‡¶æ‡¶Æ‡ßÄ</td><td class="p-1">0.250</td><td class="p-1">${val}</td></tr>`;
    labels.push("‡¶∏‡ßç‡¶¨‡¶æ‡¶Æ‡ßÄ"); shares.push(parseFloat(val));
  }
  if (wives > 0) {
    const each = 0.125 / wives;
    for (let i = 1; i <= wives; i++) {
      const val = (each * land).toFixed(2);
      html += `<tr><td class="p-1">‡¶∏‡ßç‡¶§‡ßç‡¶∞‡ßÄ ${i}</td><td class="p-1">${each.toFixed(3)}</td><td class="p-1">${val}</td></tr>`;
      labels.push(`‡¶∏‡ßç‡¶§‡ßç‡¶∞‡ßÄ ${i}`); shares.push(parseFloat(val));
    }
  }

  const totalPortion = sons * 2 + daughters;
  if (totalPortion > 0) {
    const unit = remaining / totalPortion;
    for (let i = 1; i <= sons; i++) {
      const share = unit * 2;
      const val = (share * land).toFixed(2);
      html += `<tr><td class="p-1">‡¶™‡ßÅ‡¶§‡ßç‡¶∞ ${i}</td><td class="p-1">${share.toFixed(3)}</td><td class="p-1">${val}</td></tr>`;
      labels.push(`‡¶™‡ßÅ‡¶§‡ßç‡¶∞ ${i}`); shares.push(parseFloat(val));
    }
    for (let i = 1; i <= daughters; i++) {
      const share = unit;
      const val = (share * land).toFixed(2);
      html += `<tr><td class="p-1">‡¶ï‡¶®‡ßç‡¶Ø‡¶æ ${i}</td><td class="p-1">${share.toFixed(3)}</td><td class="p-1">${val}</td></tr>`;
      labels.push(`‡¶ï‡¶®‡ßç‡¶Ø‡¶æ ${i}`); shares.push(parseFloat(val));
    }
  }

  html += '</tbody></table>';
  document.getElementById('inheritanceResult').innerHTML = html;
  document.getElementById('downloadBtn').classList.remove('hidden');

  const ctx = document.getElementById('chartCanvas').getContext('2d');
  if (pieChart) pieChart.destroy();
  pieChart = new Chart(ctx, {
    type: 'pie',
    data: {
      labels: labels,
      datasets: [{
        data: shares,
        backgroundColor: ['#6EE7B7','#C4B5FD','#FDE68A','#FCA5A5','#93C5FD','#FBCFE8']
      }]
    },
    options: {
      responsive: true,
      plugins: { legend: { position: 'bottom' } }
    }
  });
}

function downloadPDF() {
  const element = document.getElementById("resultSection");
  html2pdf().set({ margin: 0.5, filename: 'uttoradhikar_result.pdf', image: { type: 'jpeg', quality: 0.98 }, html2canvas: { scale: 2 }, jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' } }).from(element).save();
}
</script></body>
</html>
